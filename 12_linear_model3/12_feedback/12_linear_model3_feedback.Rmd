---
title: "12_linear_model3"
author: "Tobias Gerstenberg"
date: "2/8/2021"
output: 
  html_document:
    toc: true
    toc_depth: 4
    theme: cosmo
    highlight: tango
---

```{r setup, include=FALSE}
library("knitr")
library("DT")
library("janitor")
library("tidyverse")

opts_chunk$set(echo = TRUE)
theme_set(theme_classic() + 
            theme(text = element_text(size = 20),
                  panel.grid.major.y = element_line(color = "gray90")))
```

> I forget to turn the recording back on after the breakout room. Sorry about that! 

## Student feedback 

> sometimes you use random stats words that you haven't explain which can make it a little difficult to follow what you're saying. Like today, you said "gaussian nose" but we haven't learned what that means so in order to understand what you're saying I have to try to figure out what that means. It would be great if you could give quick 1-sentence summaries of new terms

> do you have info on how long the midterm took students to complete last year?

> just a general question - how many problem sets are there in this class? Will there be problem sets at the same time as final project assignments later in the quarter, or will problem sets phase out?

```{r echo=FALSE, message=FALSE}
read_csv("3-what-did-you-like-about-today-s-class-what-could.csv") %>% 
  datatable()
```

## PollEverywhere results 

```{r echo=FALSE, message=FALSE, results='hide', warning=FALSE}
df.pace = read_csv("2-how-was-the-pace-of-today-s-class.csv") %>% 
  rename(response = `Results Summary`) %>% 
  filter(row_number() > which(response == "Individual Results") + 1) %>% 
  clean_names() %>%  
  mutate(response = factor(response, levels = c("much too slow", "a little too slow", "just right", "a little too fast", "much too fast"),
                           labels = c("much\ntoo slow", "a little\ntoo slow", "just right", "a little\ntoo fast", "much\ntoo fast"))) %>% 
  count(response,
        .drop = F)

ggplot(data = df.pace,
       mapping = aes(x = response, y = n)) + 
  geom_bar(stat = "identity", fill = "lightblue", color = "black") +
  labs(y = "number of students", x = "", title = "How was the pace of today's class?")
```

```{r echo=FALSE, message=FALSE, results='hide'}
df.overall = read_csv("1-how-happy-were-you-with-today-s-class-overall.csv") %>% 
  clean_names() %>% 
  filter(!str_detect(response, "Click")) %>% # remove response outside of the click regions 
  mutate(response = as.numeric(response),
         response = factor(response, levels = 1:5,
                           labels = c("very\nunhappy", "unhappy", "neutral", "happy", "very\nhappy"))) %>% 
  count(response,
        .drop = F)

ggplot(data = df.overall,
       mapping = aes(x = response, y = n)) + 
  geom_bar(stat = "identity", aes(fill = response), color = "black", show.legend = F) +
  scale_fill_manual(values = c("red", "orange", "yellow", "lightgreen", "green")) +
  scale_y_continuous(breaks = seq(0, 40, 2)) + 
  labs(y = "number of students", x = "", title = "How happy were you with today's class overall?") +
  theme(title = element_text(size = 18))
```

## What to do next time

- might want to spend more time next time explaining variance decomposition 
- have a concrete example in which the difference in interpretation of a coefficient as a main effect vs. simple effect becomes very clear 


