---
title: "09_Modeling Data"
author: "Tobias Gerstenberg"
date: "1/28/2019"
output: 
  html_document:
    toc: true
    toc_depth: 4
    theme: cosmo
    highlight: tango
---

```{r setup, include=FALSE}
library("knitr")
library("DT")
library("tidyverse")
opts_chunk$set(echo = TRUE)
theme_set(
  theme_classic() + 
    theme(
      text = element_text(size = 20),
      panel.grid.major.y = element_line(color = "gray90")
    ) 
)
```

## Student feedback 

> On Homework: I really liked the datacamp class. I found that a different explanation for key concepts complemented your class well. It was very helpful. Do you have recommendations for other datacamp lessons we should take weekly?

> I would have liked some more clarity on what the purpose of the model is. Is it prediction or is it casual inference? Does anything change if it's one and not the other? Additionally, I think the lecture would have been easier to follow if __you outlined the general procedure we will follow class after class__ and then dove in this lecture's specific example.

> I'm still a little confused I as to what an f statistic is definitionally. how do we interpret it other than as the result of all this math we did?

> Some times the material can be hard to fully understand, but I thought you helped walk us through it. The gifs are great

```{r echo=FALSE, message=FALSE}
read_csv("what-did-you-like-about-9.csv") %>% 
  set_names(c("response", "date")) %>% 
  select(response) %>% 
  datatable()
```

### PollEverywhere results 

```{r echo=FALSE, message=FALSE, results='hide'}
df.pace = read.csv("how-was-the-pace-of-9.csv", header = F) %>%
  filter(row_number() > which(.$V2 == "Created At")) %>% 
  set_names(c("response", "date")) %>% 
  mutate(response = factor(response, levels = c("much too slow", "a little too slow", "just right", "a little too fast", "much too fast"),
                           labels = c("much\ntoo slow", "a little\ntoo slow", "just right", "a little\ntoo fast", "much\ntoo fast"))) %>% 
  count(response) %>% 
  complete(response, fill = list(n = 0))

ggplot(data = df.pace,
       mapping = aes(x = response, y = n)) + 
  geom_bar(stat = "identity", fill = "lightblue", color = "black") +
  labs(y = "number of students", x = "", title = "How was the pace of today's class?")
ggsave("pace.pdf", width = 8, height = 6)
```

```{r echo=FALSE, message=FALSE, results='hide'}
df.overall = read_csv("how-happy-were-you-with-9.csv") %>% 
  set_names(c("response", "date")) %>% 
  filter(!str_detect(response, "Click")) %>% # remove response outside of the click regions 
  mutate(response = as.numeric(response),
         response = factor(response, levels = 1:5,
                           labels = c("very\nunhappy", "unhappy", "neutral", "happy", "very\nhappy"))) %>% 
  count(response) %>% 
  complete(response, fill = list(n = 0))

ggplot(data = df.overall,
       mapping = aes(x = response, y = n)) + 
  geom_bar(stat = "identity", aes(fill = response), color = "black", show.legend = F) +
  scale_fill_manual(values = c("red", "orange", "yellow", "lightgreen", "green")) +
  labs(y = "number of students", x = "", title = "How happy were you with today's class overall?") +
  theme(title = element_text(size = 18))
ggsave("overall.pdf", width = 8, height = 6)
```

## What to do next time

- maybe: show how the sampling distribution for PRE is derived, and how it relates to the F-statistic 
- keep recommending data camp courses that complement class
- suggest more reading materials for background 
- make sure to outline the general procedure we use in each class, and then show how it applies to this specific example 
- keep using gifs :)